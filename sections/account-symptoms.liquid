{%- assign _section = section.settings -%}

<div class="symptoms__cover js-fit-windows-height"
  data-adjust-height="85vh"
>
  <div class="symptoms__bg"
    style="
      {%- if _section.background_image != blank -%}
        background-image: url('{{ _section.background_image | img_url: "master" }}');
      {%- endif -%}
      {%- if _section.background_color != blank -%}
        background-color: {{ _section.background_color }};
      {%- endif -%}
    "
  >
    {%- if _section.mobile_background_image != blank -%}
      <img src="{{ _section.mobile_background_image | img_url: "master" }}" class="visible-xs-block" />
    {%- endif -%}
    {%- if _section.background_image != blank -%}
      <img src="{{ _section.background_image | img_url: "master" }}" class="{%- if _section.mobile_background_image != blank -%}hidden-xs{%- endif -%}" />
    {%- endif -%}
  </div>
  <div class="symptoms__wrapper section-{{ section.id }} {% if _section.is_top_hero %}symptoms__wrapper_top{% endif %}">
    <div class="symptoms__container">
      <div class="visible-sm-block hidden-xs outer-wrapper">
        <header class="symptoms__header">
          <h1 class="symptoms__heading">{{ _section.heading | newline_to_br }}</h1>
          <h2 class="symptoms__subheading">{{ _section.subheading | newline_to_br }}</h2>
        </header>

        {%- if _section.description != blannk -%}
          <p class="symptoms__description">{{ _section.description }}</p>
        {%- endif -%}
      </div>
      <div class="hidden-sm">
        <header class="symptoms__header">
          <h1 class="symptoms__heading">{{ _section.heading | newline_to_br }}</h1>
          <h2 class="symptoms__subheading">{{ _section.subheading | newline_to_br }}</h2>
        </header>

        {%- if _section.description != blannk -%}
          <p class="symptoms__description">{{ _section.description }}</p>
        {%- endif -%}

        <a href="{{ _section.button_url }}" class="button">{{ _section.button_text }}</a>
      </div>

      <a href="{{ _section.button_url }}" class="button visible-sm-block">{{ _section.button_text }}</a>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Account Symptoms",
  "class": "symptoms",
  "tag": "section",

  "settings": [
    {
      "type": "checkbox",
      "id": "is_top_hero",
      "label": "Top Hero",
      "default": false
    },
    {
      "type": "header",
      "content": "Background"
    },
    {
      "id": "background_image",
      "type": "image_picker",
      "label": "Background Image"
    },
    {
      "type": "image_picker",
      "id": "mobile_background_image",
      "label": "Mobile Background Image"
    },
    {
      "id": "background_color",
      "type": "color",
      "label": "Background Color"
    },
    {
      "id": "heading",
      "type": "text",
      "label": "Heading",
      "default": "great tasting\nnatural fiber."
    },
    {
      "id": "subheading",
      "type": "text",
      "label": "Subheading",
      "default": "made with real\nfruit"
    },
    {
      "id": "button_text",
      "type": "text",
      "label": "Button Text",
      "default": "SHOP FIBER"
    },
    {
      "id": "button_url",
      "type": "url",
      "label": "Button URL",
      "default": "/"
    }
  ]
}
{% endschema %}
